<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta property='og:type' content='website'>
    <meta property='og:title' content='甘夏燈子 Portfolio'>
    <meta property='og:url' content='https://amanatsutouko.github.io/'>
    <meta property='og:description' content='甘夏燈子のポートフォリオサイトです。'>
    <meta property="og:image" content="img/ogp.png">
    <meta name="description" content="甘夏燈子のポートフォリオです。絵描いたりプログラム書いたりゲーム作ったりしてます。" />
    
    <meta name="twitter:site" content="@amanatsu_toko" />
    <meta name="twitter:image" content="https://amanatsutouko.github.io/img/ogp.png">
    <meta name="twitter:card" content="summary" />
    
    <title>甘夏燈子/InFunityScript</title>
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Material+Icons+Outlined" rel="stylesheet">
    <link href="css/ress.css" media="all" rel="stylesheet" type="text/css" />
    <link href="css/style.css" media="all" rel="stylesheet" type="text/css" />
    <link rel="shortcut icon" href="img/profile.jpg" />
    <link rel=”canonical” href=”https://amanatsutouko.github.io/” />
  
    <!--画像クリックで拡大-->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/lightbox2/2.7.1/css/lightbox.css" rel="stylesheet">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/lightbox2/2.7.1/js/lightbox.min.js" type="text/javascript"></script>
  </head>

<body>
  <div class="wrapper">

    <!-- header -->
    <header class="header ">
      <div class="container">
        <h1 class="header-logo">
          <a href=".">AMANATSU TOUKO</a>
        </h1>
        <nav class="gnav">
          <ul class="gnav-list">
            <li class="gnav-item"><a href=".#works">WORKS</a></li>
            <li class="gnav-item"><a href=".#design">DESIGN</a></li>
            <li class="gnav-item"><a href=".#illust">ILLUST</a></li>
            <li class="gnav-item"><a href=".#skill">SKILL</a></li>
            <li class="gnav-item"><a href=".#about">ABOUT</a></li>
            <li class="gnav-item"><a href=".#contact">CONTACT</a></li>
          </ul>
        </nav>
      </div>
    </header>
    <!-- /header -->

    <main class="content">

      <article class="article">
        <div class="article-container">
          <h2 class="article-title">InFunityScript</h2>
          <div class="article-body">
            <p>
              <div class="iframe-wrapper">
                <!-- <iframe width="560" height="315" src="https://www.youtube.com/embed/BNQHWutx-XU" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe> -->
                <!-- <img src="img/works/InFunityScript/thum.jpg" alt="" /> -->
                <div class="works-video"><video controls autoplay muted loop src="img/works/InFunityScript/main-process.mp4"></video></div>
              </div>
              
            </p>
            <p>
              Unity用ノベルゲーム制作支援パッケージです。<br>
              UniTaskを採用し、簡潔な命令で簡単にノベルゲームが制作できます。<br>
              ベースにUnityエンジンを用いているので、強力な拡張表現が可能になります。<br>
              現在、鋭意製作中です。<br>
              自身が代表を務めるサークルFThingSoftwareにて、発表するノベルゲームに利用しています。
            </p>

            <h3>パッケージ使用例</h3>
            <div class="works-list">
              <!-- <a class="works-item-video">
                <div class="works-video"><video controls autoplay muted loop src="img/works/InFunityScript/main-process.mp4"></video></div>
              </a> -->
              <a class="works-item-video">
                <div class="works-video"><video controls autoplay muted loop src="img/works/InFunityScript/backlog.mp4"></video></div>
              </a>
              <a class="works-item-video">
                <div class="works-video"><video controls autoplay muted loop src="img/works/InFunityScript/save.mp4"></video></div>
              </a>
              <a class="works-item-video">
                <div class="works-video"><video controls autoplay muted loop src="img/works/InFunityScript/load.mp4"></video></div>
              </a>

              <!-- <a class="works-item" href="img/works/IchigenZamurai/explain_2_origin.png" data-lightbox="group">
                <div class="works-img"><img src="img/works/IchigenZamurai/explain_2.png" alt="" /></div>
              </a>
              <p>
                画像クリックで拡大します。
              </p> -->
            </div>

            <h3>GitHubリポジトリ</h3>
            <p>
              <a href="https://github.com/AmanatsuTouko/InFunityScript" target="_blank" rel="noopener">https://github.com/AmanatsuTouko/InFunityScript</a>
            </p>

            <h3>担当</h3>
            <p>
              設計・コーディング<br>
            </p>

            <h3>制作期間/使用したツールなど</h3>
            <p>
              製作期間：2023年1月~ <br>
              使用ツール：Unity, UniTask(UnityPackage)<br>
            </p>

            <!-- <h3>ノベルゲームのシナリオコーディングと実行の流れ</h3>
            <p>
              <div class="works-list">
                <a class="works-item" href="img/works/InFunityScript/autocomplete.gif" data-lightbox="group">
                  <div class="works-img"><img src="img/works/InFunityScript/autocomplete.gif" alt="" /></div>
                  <p class="works-info">シナリオ命令の補完の様子</p>
                </a>
              </div>
            </p>
            <p>
              シナリオ演出を記述するC#ファイルは、シナリオの演出に用いる関数群を継承しているため、<br>
              コードエディタによる補完がなされます。<br>
            </p> -->

            <h3>ノベルゲーム制作支援ツールとして目指す場所</h3>
              現状のノベルゲーム制作ツールは、二極化しています。<br>
              プログラミング初心者が使いやすいようにビジュアルプログラミングを用いたツールと、<br>
              プログラミング中上級者が使いやすいUnityなどのゲームエンジンを用いて作る方法の2つです。<br>
              <br>
              しかし、初心者向けの簡単なツールでは、ツールの想定されていない凝った表現をしようとすると<br>
              プログラミングの難易度が跳ね上がる傾向にあります。<br>
              <br>
              そこで、あらかじめベースとなるシステムを組み込んだパッケージを用いて<br>
              初心者がUnityで開発することで、プログラミングの敷居を下げることが本ツールの目的です。<br>
              ノベルゲーム開発において、初心者にとって難しい<br>
              セーブロードなどの処理を本ツールが肩代わりします。<br>
              <br>
              また、Unityという強力なゲームエンジンをベースに置くことで、<br>
              一般的なノベルゲーム制作ツールを超えた演出表現が可能になります。<br>

            <h3>工夫・苦労した点</h3>

            <h4>◆ゲーム支援ツールとして使いやすいツール</h4>
            <p>
              <div class="works-list">
                <a class="works-item" href="img/works/InFunityScript/autocomplete.gif" data-lightbox="group">
                  <div class="works-img"><img src="img/works/InFunityScript/autocomplete.gif" alt="" /></div>
                  <p class="works-info">シナリオ命令の補完の様子</p>
                </a>
                <a class="works-item" href="img/works/InFunityScript/create-scenario.gif" data-lightbox="group">
                  <div class="works-img"><img src="img/works/InFunityScript/create-scenario.gif" alt="" /></div>
                  <p class="works-info">シナリオ用C#ファイルの作成</p>
                </a>
                <a class="works-item" href="img/works/InFunityScript/call-callback.jpg" data-lightbox="group">
                  <div class="works-img"><img src="img/works/InFunityScript/call-callback.jpg" alt="" /></div>
                  <p class="works-info">Call, Callbackを用いたシナリオ分割</p>
                </a>

              </div>
            </p>
            <p>
              ゲーム支援ツールとして使いやすいツールを目標に据えています。<br>
              シナリオ演出命令の入力補完が効くようにしたり、<br>
              ワンクリックでシナリオを記述するC#ファイルを作成できたり、<br>
              Call、CallBackを用いてシナリオファイルを適切に分割できるようになどしています。
            </p>

            <h4>◆セーブロードを実装する</h4>
            <p>
              ノベルゲームである以上、プレイヤーが好きなタイミングでセーブできなければなりません。<br>
              実行している行番号を把握してセーブし、<br>
              ロードした行番号を参照してにゲームを再開できるようにしました。<br>
              <br>
              内部処理としては、シナリオの演出に用いる命令(関数)は、同期処理として実装し<br>
              1行実行するたびにカウンタを増加させて今どの処理まで実行したかを記録しています。<br>
              ロードの際には、読み出したカウンタまでシナリオ記述に用いる命令を実行しないことで<br>
              セーブした箇所まで戻れるようにしています。<br>
              <br>
              セーブデータはjsonファイルとして、<br>
              ゲームを実行しているPCのローカルフォルダに保存できるようにしました。<br>
            </p>

            <h4>◆UniTaskの導入</h4>
              開発初期では、シナリオ命令(関数)の記述にコルーチンを用いていました。<br>
              コルーチンでは、実行元に戻る際に yield return null; と記述すると<br>
              1フレーム使用するUnity側の仕様があります。<br>
              しかし、この仕様ではロード処理のセーブした箇所まで復帰する際に、<br>
              シナリオ命令が100行ある場合には、100フレーム時間がかかってしまいます。<br>
              <br>
              そこで、同期処理の機構としてUniTaskを用いることでこの問題を解決しました。<br>
              UniTaskでは、実行元に await で戻る際に、1フレームを消費することはありません。<br>
              また、UniTaskを用いることで、シナリオ命令をより簡潔に記述できるようになりました。<br>
            <h3>URL</h3>
            <p>
              <a href="https://drive.google.com/drive/folders/1s-1gdqeAiuUP1SdWlZt7RL9WaTz8MJnb?usp=sharing" target="_blank" rel="noopener">InFunityScript-Sample Download - GoogleDrive</a>
              本ツールを使用して制作したサンプルゲームです。
            </p>

            <h3>関連記事</h3>
            

          </div>
          <div class="home-link">
            <a href=".#works">Works一覧へ</a>
          </div>
        </div>
      </article>

      <div class="page-top" id="js-page-top">
        <span class="material-icons-outlined">expand_less</span>
      </div>
    </main>

    <!-- footer -->
    <footer class="footer">
      <div class="copyright">&copy;AMANATSU TOUKO</div>
    </footer>
    <!-- /footer -->

  </div>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <script type='text/javascript' src="js/script.js"></script>
</body>
</html>
